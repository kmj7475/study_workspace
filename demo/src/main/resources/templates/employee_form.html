<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${employee.empNo} == null ? '직원 등록' : '직원 수정'">직원 폼</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
</head>
<body>
<div class="container mt-4">
    <h2 th:text="${employee.empNo} == null ? '직원 등록' : '직원 수정'">직원 등록/수정</h2>

    <form th:action="@{/employees/save}" th:object="${employee}" method="post" class="row g-3">

        <!-- empNo (기본키) -->
        <div class="col-md-3">
            <label for="empNo" class="form-label">사원번호 (empNo)</label>
            <input type="number" id="empNo" class="form-control" th:field="*{empNo}"
                   th:readonly="${employee.empNo != null}" />
            <div class="text-danger small" th:if="${#fields.hasErrors('empNo')}" th:errors="*{empNo}"></div>
        </div>

        <!-- empName -->
        <div class="col-md-6">
            <label for="empName" class="form-label">이름 (empName)</label>
            <input type="text" id="empName" class="form-control" th:field="*{empName}" placeholder="이름을 입력하세요"/>
            <div class="text-danger small" th:if="${#fields.hasErrors('empName')}" th:errors="*{empName}"></div>
        </div>

        <!-- 버튼 -->
        <div class="col-12 mt-3">
            <button type="submit" class="btn btn-primary">등록</button>

            <!-- 수정 버튼: empNo가 있을 때만 보이며, 이 버튼은 다른 액션으로 폼을 전송 -->
            <button type="submit" th:if="${employee.empNo != null}" th:formaction="@{/employees/update}" class="btn btn-warning ms-2">수정</button>

            <a th:href="@{/employees}" class="btn btn-secondary ms-2">목록으로</a>
            <button type="reset" class="btn btn-outline-secondary ms-2">초기화</button>
        </div>
    </form>
</div>
</body>
</html>